# NGINX Log Analyzer

NGINX Log Analyzer — это инструмент для анализа логов NGINX, который позволяет быстро и эффективно собирать статистику по запросам, ответам и размерам переданных данных. Программа поддерживает обработку локальных файлов и удаленных логов по URL, с возможностью фильтрации по временным параметрам и выводом результатов в формате Markdown или AsciiDoc.

## Возможности

- **Подсчет общего количества запросов**: анализирует общее количество запросов в логах.
- **Определение наиболее часто запрашиваемых ресурсов**: отображает список URL-адресов с наибольшим количеством запросов.
- **Определение наиболее часто встречающихся кодов ответа**: показывает распределение кодов HTTP-ответов (например, 200, 404, 500 и т.д.).
- **Рассчет среднего размера ответа**: рассчитывает средний размер ответа сервера.

## Используемые технологии

- **Java**: основной язык программирования для реализации проекта.
- **Java NIO (New I/O)**: для эффективного чтения лог-файлов.
- **Java Time API**: для работы с датами и временем.
- **Коллекции Java**: для сбора и обработки статистики.
- **Markdown и AsciiDoc**: форматы вывода отчета.


## Примеры вывода

### Общая информация

|        Метрика        |     Значение |
|:---------------------:|-------------:|
|       Файл(-ы)        | `access.log` |
|    Начальная дата     |   31.08.2023 |
|     Конечная дата     |            - |
|  Количество запросов  |       10_000 |
| Средний размер ответа |         500b |

### Запрашиваемые ресурсы

|     Ресурс      | Количество |
|:---------------:|-----------:|
|  `/index.html`  |      5_000 |
|  `/about.html`  |      2_000 |
| `/contact.html` |      1_000 |

### Коды ответа

| Код |          Имя          | Количество |
|:---:|:---------------------:|-----------:|
| 200 |          OK           |       8000 |
| 404 |       Not Found       |       1000 |
| 500 | Internal Server Error |        500 |

## Архитектура

Программа построена по принципу конвейера, где:

1. Ввод пользователя (имена файлов, URL и т.д.) обрабатывается и преобразуется в поток записей `Stream<LogRecord>`.
2. Поток анализируется и создается отчет `LogReport`.
3. Отчет записывается в файл в формате Markdown или AsciiDoc.

## Схема NGINX-логов

Формат логов NGINX:
```
$remote_addr - $remote_user [$time_local] "$request" $status $body_bytes_sent "$http_referer" "$http_user_agent"
```

## Дополнительные возможности

- Фильтрация логов по времени (аргументы `--from` и `--to`).
- Выбор формата отчета (аргумент `--format`).
